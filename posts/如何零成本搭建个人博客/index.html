<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>如何零成本搭建个人博客 | Code "得得地"</title>
<meta name=keywords content="教程"><meta name=description content="介绍如何利用PicGo、Hugo等开源工具，基于GitHub零成本搭建个人博客"><meta name=author content="Me"><link rel=canonical href=https://codedededi.github.io/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://codedededi.github.io/favicon.jpeg><link rel=icon type=image/png sizes=16x16 href=https://codedededi.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://codedededi.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://codedededi.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://codedededi.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="如何零成本搭建个人博客"><meta property="og:description" content="介绍如何利用PicGo、Hugo等开源工具，基于GitHub零成本搭建个人博客"><meta property="og:type" content="article"><meta property="og:url" content="https://codedededi.github.io/posts/%E5%A6%82%E4%BD%95%E9%9B%B6%E6%88%90%E6%9C%AC%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/codedededi/pichome/picgo/2023-12-14/67ba75c59e43b7727a0682a28695c5dc-7389f0-labrador-3840x2160-dog-funny-animals-cute-animals-4k-15267.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-12-27T11:43:24+08:00"><meta property="article:modified_time" content="2023-12-27T11:43:24+08:00"><meta property="og:site_name" content="ExampleSite"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://cdn.jsdelivr.net/gh/codedededi/pichome/picgo/2023-12-14/67ba75c59e43b7727a0682a28695c5dc-7389f0-labrador-3840x2160-dog-funny-animals-cute-animals-4k-15267.jpg"><meta name=twitter:title content="如何零成本搭建个人博客"><meta name=twitter:description content="介绍如何利用PicGo、Hugo等开源工具，基于GitHub零成本搭建个人博客"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://codedededi.github.io/posts/"},{"@type":"ListItem","position":2,"name":"如何零成本搭建个人博客","item":"https://codedededi.github.io/posts/%E5%A6%82%E4%BD%95%E9%9B%B6%E6%88%90%E6%9C%AC%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"如何零成本搭建个人博客","name":"如何零成本搭建个人博客","description":"介绍如何利用PicGo、Hugo等开源工具，基于GitHub零成本搭建个人博客","keywords":["教程"],"articleBody":"搭建个人博客网站 作为本站的首篇博文，简单记录”折腾”本站的过程和遇到的问题，一定程度上也算“自举”了\n明确目标 动手前需要明确需求：\n简单写点博客 给自己找点折腾的事 综上，我需要一个省钱、简单的博客站点搭建方案，所以只关注最基础的功能：\n托管 内容 图床 最终采用 Hugo(框架) + GitHub Pages(托管) + PicGo(图床) 的解决方案，工作流如下：\nPicGo + GitHub + jsDelivr 保存图片\nTypora 编辑 Markdown 内容\nGitHub Actions 触发 Hugo 渲染 \u0026 发布 GitHub Pages\nPicGo + GitHub + jsDelivr 图床 作为个人博客网站图床，当下的需求是可用+小成本，访问体验和内容隐私暂不考虑，免费的GitHub足矣\nGitHub图床可以搭配免费CDN jsDelivr加速资源访问速度，根据GitHub资源构建形如https://cdn.jsdelivr.net/gh//@/的URL即可完成加速引用\n使用387 KB图片在广州-联通百兆带宽环境进行简单测试（curl资源耗时/ping域名耗时）：\nGitHub：479ms/45ms jsDelivr：395ms/11ms 在广州-阿里云ECS（3M）、新加坡-Azure VM（2M）进行测试均加速效果，不排除在其他地理位置和网络环境下有负优化，该测试效果仅作参考\n图片上传工具使用 PicGo，支持阿里云、七牛云、腾讯云等常用的 OSS 和 GitHub，并且有可扩展的插件系统，自动化完成图片压缩、转化为jsDelivr引用的工作，在上传后直接得到可用的 URL\n创建 GtiHub仓库，类型必须为 Public！类型必须为Public！类型必须为Public！\n创建 api token，进入页面头像→Settings→Developer Settings→Personal access Tokens→Tokens (classic)，点击 Generate new token\n从 GitHub 下载 PicGo https://github.com/Molunerfinn/PicGo/releases，根据创建的仓库信息填写配置，配置自定义域名为 https://cdn.jsdelivr.net/gh//将生成的URL转化为jsDelivr引用格式\n（可选）安装图片压缩 compression 和重命名插件 rename-file（避免命名冲突）,在搜索栏输入插件名称安装即可，需要其他功能可在 Awesome-PicGo 查找是否有插件支持\nHugo 静态网页生成框架 将 Markdown 格式渲染成静态网页常用的工具有：\nJekyll Hexo Hugo 虽然 Jekyll 和 Hexo 是阅读文章页脚的常客，但最终选用了比较少见的Hugo：\n框架基于Golang实现，个人比较熟悉的技术栈，易于维护和扩展 400+主题，总能找到喜欢的主题 从其他博主的经验分享，Hugo的渲染速度远超（分vs秒）其他2个框架，这会带来更好的发布体验 Hugo 组织内容和配置文件的结构简单清晰，切换主题或迁移到框架的成本不高，试错成本较低 Hugo 项目结构主要关注以下目录/文件：\nhugo.yaml：网站全局配置 content/： 内容文件 themes/：主题 public/：渲染生成静态网页 ├── Makefile ├── archetypes │ ├── default.md │ └── posts.md ├── assets ├── content │ └── posts ├── data ├── hugo.yaml ├── i18n ├── layouts ├── public │ ├── 404.html │ ├── assets │ ├── categories │ ├── favicon.jpeg │ ├── index.html │ ├── index.xml │ ├── page │ ├── robots.txt │ ├── sitemap.xml │ └── tags ├── static │ └── favicon.jpeg └── themes └── PaperMod 在macOS上使用Hugo 使用 Homebrew 安装 Hugo\nbrew install hugo 初始化网站目录\n# 新建网站目录myblog, 指定配置文件格式为yaml hugo new site myblog --format yaml cd myblog # 初始化git仓库 git init # 通过submodule下载theme git submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod \u0026\u0026 git submodule update --init --recursive # 设置主题 echo \"theme: PaperMod\" \u003e\u003e hugo.yaml 针对 hugo.yaml 中的\nPS：为了对主题进行定制或者优化，建议对theme仓库fork后使用\nHugo 的 Archetypes 功能可以从自定义模版上创建新的内容文件，根据内容类型（Content Types）,如 posts，依次在以下目录匹配模板\narchetypes/posts.md archetypes/default.md themes/my-theme/archetypes/posts.md themes/my-theme/archetypes/default.md 类型由文件路径中的第一个目录推断，如 content/posts/my-first-posts.md 的类型是 posts，对顶层 content/ 目录中的内容类型为page\n在模板中可以使用上下文变量（Context）和内建函数（Function）自动完成如创建日期、文件名转换为标题、草稿状态、主题配置等元数据配置\n针对选用的 PaperMod 主题创建 posts 模板 /archetypes/posts.md（”\u003c\u003e”尖括号内容需要自行填写）\n--- title: '{{ replace .File.ContentBaseName `-` ` ` | title }}' date: '{{ .Date }}' tags: [] author: \"Me\" showToc: true TocOpen: false draft: true hidemeta: false comments: false description: \"Desc Text.\" canonicalURL: \"https://canonical.url/to/page\" disableHLJS: true # to disable highlightjs disableShare: false disableHLJS: false hideSummary: false searchHidden: true ShowReadingTime: true ShowBreadCrumbs: true ShowPostNavLinks: true ShowWordCount: true ShowRssButtonInSectionTermList: true UseHugoToc: true cover: image: \"\" # image path/url alt: \"\" # alt text caption: \"\" # display caption under cover relative: false # when using page bundles set this to true hidden: true # only hide on current single page editPost: URL: \"https://github.com//content\" Text: \"Suggest Changes\" # edit text appendFilePath: true # to append file path to Edit link --- 使用以下命令创建新文件即可\nhugo new content posts/demo.md Hugo项目框架完成搭建，创建GitHub仓库进行保存和管理（仓库可设置为 Private 类型）\n为了避免hugo server预览效果与真实部署效果有偏差，可在本地渲染静态网页并启动HTTP Sever托管\n# 渲染静态网页 hugo # 启动HTTP服务器（Python3） cd public python3 -m http.server GitHub Actions 自动发布 GitHub会将.github.io仓库发布成GitHub Pages，用户可通过https://.github.io/访问站点\n在编辑内容后，更新网站需要将渲染静态网页并推送到仓库中，Markdown文件也需要保存源仓库，可以通过 GitHub Actions 进行流程简化\nGitHub Actions 是 GitHub 的 CI/CD 平台，支持自动执行构建、测试和部署管道，目前已经有很多开箱即用的工作流\n需要实现的效果是在源仓库保存时，自动更新渲染静态网页并推送到GitHub Pages仓库：\n在源仓库 .github/workflows 目录下，新建 yaml 配置文件，如 deploy.yml，内容参考如下\nname: deploy # 触发方式 on: # 仓库执行push操作 push: # 在仓库手动触发 workflow_dispatch: # 定时执行 schedule: - cron: 0 8 * * * # 定义任务 jobs: build: # 任务运行环境 runs-on: ubuntu-latest # 声明任务步骤 steps: - name: Checkout # 使用插件 uses: actions/checkout@v2 # 传递插件参数 with: # 因为theme仓库以子模块方式管理，所以需要同时checkout子模块 submodules: true fetch-depth: 0 - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: \"latest\" - name: Build Resources run: hugo - name: Deploy Website uses: peaceiris/actions-gh-pages@v3 with: PERSONAL_TOKEN: ${{ secrets.PERSONAL_TOKEN }} # 替换为自己的 GitHub Pages 仓库 EXTERNAL_REPOSITORY: codedededi/codedededi.github.io PUBLISH_BRANCH: main PUBLISH_DIR: ./public commit_message: ${{ github.event.head_commit.message }} GitHub Actions 执行推送操作依赖 Access Token， 即需要为上述配置注入 secrets.PERSONAL_TOKEN 变量： 创建含 repo（默认）、workflow 权限的 token\n在源仓库新建加密参数PERSONAL_TOKEN\n小结 本文介绍了借助PicGo、Hugo等开源工具在 GitHub 平台搭建个人博客网站的过程，目前完成度仅为可用，仍有评论模块、统计模块、自定义域名等特性可以持续扩展迭代，欢迎大家和我分享更多更好的想法\n","wordCount":"517","inLanguage":"en","image":"https://cdn.jsdelivr.net/gh/codedededi/pichome/picgo/2023-12-14/67ba75c59e43b7727a0682a28695c5dc-7389f0-labrador-3840x2160-dog-funny-animals-cute-animals-4k-15267.jpg","datePublished":"2023-12-27T11:43:24+08:00","dateModified":"2023-12-27T11:43:24+08:00","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://codedededi.github.io/posts/%E5%A6%82%E4%BD%95%E9%9B%B6%E6%88%90%E6%9C%AC%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"},"publisher":{"@type":"Organization","name":"Code \"得得地\"","logo":{"@type":"ImageObject","url":"https://codedededi.github.io/favicon.jpeg"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://codedededi.github.io/ accesskey=h title="Home (Alt + H)">Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://codedededi.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://codedededi.github.io/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://codedededi.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://codedededi.github.io/posts/>Posts</a></div><h1 class=post-title>如何零成本搭建个人博客</h1><div class=post-description>介绍如何利用PicGo、Hugo等开源工具，基于GitHub零成本搭建个人博客</div><div class=post-meta><span title='2023-12-27 11:43:24 +0800 +0800'>December 27, 2023</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;517 words&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/posts/%e5%a6%82%e4%bd%95%e9%9b%b6%e6%88%90%e6%9c%ac%e6%90%ad%e5%bb%ba%e4%b8%aa%e4%ba%ba%e5%8d%9a%e5%ae%a2.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#明确目标>明确目标</a></li><li><a href=#picgo--github--jsdelivr-图床>PicGo + GitHub + jsDelivr 图床</a></li><li><a href=#hugohttpsgohugoio-静态网页生成框架><a href=https://gohugo.io/>Hugo</a> 静态网页生成框架</a><ul><li><a href=#在macos上使用hugo>在macOS上使用Hugo</a></li></ul></li><li><a href=#github-actions-自动发布><strong>GitHub Actions 自动</strong>发布</a></li><li><a href=#小结>小结</a></li></ul></nav></div></details></div><div class=post-content><h1 id=搭建个人博客网站>搭建个人博客网站<a hidden class=anchor aria-hidden=true href=#搭建个人博客网站>#</a></h1><p>作为本站的首篇博文，简单记录”折腾”本站的过程和遇到的问题，一定程度上也算“自举”了</p><h2 id=明确目标>明确目标<a hidden class=anchor aria-hidden=true href=#明确目标>#</a></h2><p>动手前需要明确需求：</p><ol><li>简单写点博客</li><li>给自己找点折腾的事</li></ol><p>综上，我需要一个省钱、简单的博客站点搭建方案，所以只关注最基础的功能：</p><ul><li>托管</li><li>内容</li><li>图床</li></ul><p>最终采用 Hugo(框架) + GitHub Pages(托管) + PicGo(图床) 的解决方案，工作流如下：</p><ol><li><p>PicGo + GitHub + jsDelivr 保存图片</p></li><li><p>Typora 编辑 Markdown 内容</p></li><li><p>GitHub Actions 触发 Hugo 渲染 & 发布 GitHub Pages</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/codedededi/pichome/picgo/2023-12-26/e8f3705fddb70c8cab68cd5cefc7361a-036d94-20231226201135.png alt=https://cdn.jsdelivr.net/gh/codedededi/pichome/picgo/2023-12-26/e8f3705fddb70c8cab68cd5cefc7361a-036d94-20231226201135.png></p></li></ol><h2 id=picgo--github--jsdelivr-图床>PicGo + GitHub + jsDelivr 图床<a hidden class=anchor aria-hidden=true href=#picgo--github--jsdelivr-图床>#</a></h2><p>作为个人博客网站图床，当下的需求是可用+小成本，访问体验和内容隐私暂不考虑，免费的GitHub足矣</p><p>GitHub图床可以搭配免费CDN jsDelivr加速资源访问速度，根据GitHub资源构建形如<code>https://cdn.jsdelivr.net/gh/&lt;user>/&lt;repo>@&lt;version>/&lt;file></code>的URL即可完成加速引用</p><p>使用387 KB图片在广州-联通百兆带宽环境进行简单测试（curl资源耗时/ping域名耗时）：</p><ul><li><strong>GitHub</strong>：479ms/45ms</li><li><strong>jsDelivr</strong>：395ms/11ms</li></ul><p>在广州-阿里云ECS（3M）、新加坡-Azure VM（2M）进行测试均加速效果，<strong>不排除在其他地理位置和网络环境下有负优化</strong>，该测试效果仅作参考</p><p>图片上传工具使用 PicGo，支持阿里云、七牛云、腾讯云等常用的 OSS 和 GitHub，并且有可扩展的插件系统，自动化完成<strong>图片压缩</strong>、<strong>转化为jsDelivr引用</strong>的工作，在上传后直接得到可用的 URL</p><ol><li><p>创建 GtiHub仓库，<strong>类型必须为 Public！类型必须为Public！类型必须为Public！</strong></p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/codedededi/pichome/picgo/2023-12-26/3c9b0c2198e0112a4193f4e1bdbeeb7a-cf5c94-picgo_create_repo.jpg alt=https://cdn.jsdelivr.net/gh/codedededi/pichome/picgo/2023-12-26/3c9b0c2198e0112a4193f4e1bdbeeb7a-cf5c94-picgo_create_repo.jpg></p></li><li><p>创建 api token，进入页面<strong>头像→Settings→Developer Settings→Personal access Tokens→Tokens (classic)</strong>，点击 <strong>Generate new token</strong></p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/codedededi/pichome/picgo/2023-12-26/9c8784782d7005cf53b55a07c1699ead-f49252-picgo_gen_token.jpg alt=https://cdn.jsdelivr.net/gh/codedededi/pichome/picgo/2023-12-26/9c8784782d7005cf53b55a07c1699ead-f49252-picgo_gen_token.jpg></p></li><li><p>从 GitHub 下载 PicGo <a href=https://github.com/Molunerfinn/PicGo/releases>https://github.com/Molunerfinn/PicGo/releases</a>，根据创建的仓库信息填写配置，配置自定义域名为 <code>https://cdn.jsdelivr.net/gh/&lt;user>/&lt;repo></code>将生成的URL转化为jsDelivr引用格式</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/codedededi/pichome/picgo/2023-12-26/dfa03e194596675c351a4c7909ebb8d7-10102c-picgo_config_picbed.jpg alt=https://cdn.jsdelivr.net/gh/codedededi/pichome/picgo/2023-12-26/dfa03e194596675c351a4c7909ebb8d7-10102c-picgo_config_picbed.jpg></p></li><li><p>（可选）安装图片压缩 <strong>compression</strong> 和重命名插件 <strong>rename-file</strong>（避免命名冲突）,在搜索栏输入插件名称安装即可，需要其他功能可在 <a href=https://github.com/PicGo/Awesome-PicGo>Awesome-PicGo</a> 查找是否有插件支持</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/codedededi/pichome/picgo/2023-12-26/37bcd011a533c66cd3e9b5b28a555414-de7bb2-picgo_install_plugin.jpg alt=https://cdn.jsdelivr.net/gh/codedededi/pichome/picgo/2023-12-26/37bcd011a533c66cd3e9b5b28a555414-de7bb2-picgo_install_plugin.jpg></p></li></ol><h2 id=hugohttpsgohugoio-静态网页生成框架><a href=https://gohugo.io/>Hugo</a> 静态网页生成框架<a hidden class=anchor aria-hidden=true href=#hugohttpsgohugoio-静态网页生成框架>#</a></h2><p>将 Markdown 格式渲染成静态网页常用的工具有：</p><ul><li>Jekyll</li><li>Hexo</li><li>Hugo</li></ul><p>虽然 Jekyll 和 Hexo 是阅读文章页脚的常客，但最终选用了比较少见的Hugo：</p><ul><li>框架基于Golang实现，个人比较熟悉的技术栈，易于维护和扩展</li><li>400+主题，总能找到喜欢的主题</li><li>从其他博主的经验分享，Hugo的渲染速度远超（分vs秒）其他2个框架，这会带来更好的发布体验</li><li>Hugo 组织内容和配置文件的结构简单清晰，切换主题或迁移到框架的成本不高，试错成本较低</li></ul><p>Hugo 项目结构主要关注以下目录/文件：</p><ul><li><code>hugo.yaml</code>：网站全局配置</li><li><code>content/</code>： 内容文件</li><li><code>themes/</code>：主题</li><li><code>public/</code>：渲染生成静态网页</li></ul><pre tabindex=0><code>├── Makefile
├── archetypes
│   ├── default.md
│   └── posts.md
├── assets
├── content
│   └── posts
├── data
├── hugo.yaml
├── i18n
├── layouts
├── public
│   ├── 404.html
│   ├── assets
│   ├── categories
│   ├── favicon.jpeg
│   ├── index.html
│   ├── index.xml
│   ├── page
│   ├── robots.txt
│   ├── sitemap.xml
│   └── tags
├── static
│   └── favicon.jpeg
└── themes
    └── PaperMod
</code></pre><h3 id=在macos上使用hugo>在macOS上使用Hugo<a hidden class=anchor aria-hidden=true href=#在macos上使用hugo>#</a></h3><p>使用 Homebrew 安装 Hugo</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>brew install hugo
</span></span></code></pre></div><p>初始化网站目录</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 新建网站目录myblog, 指定配置文件格式为yaml</span>
</span></span><span class=line><span class=cl>hugo new site myblog --format yaml
</span></span><span class=line><span class=cl><span class=nb>cd</span> myblog
</span></span><span class=line><span class=cl><span class=c1># 初始化git仓库</span>
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl><span class=c1># 通过submodule下载theme</span>
</span></span><span class=line><span class=cl>git submodule add --depth<span class=o>=</span><span class=m>1</span> https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod <span class=o>&amp;&amp;</span> git submodule update --init --recursive
</span></span><span class=line><span class=cl><span class=c1># 设置主题</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;theme: PaperMod&#34;</span> &gt;&gt; hugo.yaml
</span></span></code></pre></div><p>针对 hugo.yaml 中的</p><p><strong>PS：为了对主题进行定制或者优化，建议对theme仓库fork后使用</strong></p><p>Hugo 的 <strong>Archetypes</strong> 功能可以从自定义模版上创建新的内容文件，根据内容类型（Content Types）,如 <strong>posts</strong>，依次在以下目录匹配模板</p><ol><li><strong>archetypes/posts.md</strong></li><li><strong>archetypes/default.md</strong></li><li><strong>themes/my-theme/archetypes/posts.md</strong></li><li><strong>themes/my-theme/archetypes/default.md</strong></li></ol><p>类型由文件路径中的第一个目录推断，如 <strong>content/posts/my-first-posts.md</strong> 的类型是 <strong>posts</strong>，对顶层 <code>content/</code> 目录中的内容类型为<strong>page</strong></p><p>在模板中可以使用上下文变量（<strong>Context</strong>）和内建函数（<strong>Function</strong>）自动完成如创建日期、文件名转换为标题、草稿状态、主题配置等元数据配置</p><p>针对选用的 PaperMod 主题创建 <strong>posts</strong> 模板 <code>/archetypes/posts.md</code>（”&lt;>”尖括号内容需要自行填写）</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nn>---</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{{ replace .File.ContentBaseName `-` ` ` | title }}&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>date</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{{ .Date }}&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>tags</span><span class=p>:</span><span class=w> </span><span class=p>[]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>author</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Me&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>showToc</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>TocOpen</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>draft</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>hidemeta</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>comments</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Desc Text.&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>canonicalURL</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://canonical.url/to/page&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>disableHLJS</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># to disable highlightjs</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>disableShare</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>disableHLJS</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>hideSummary</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>searchHidden</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>ShowReadingTime</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>ShowBreadCrumbs</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>ShowPostNavLinks</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>ShowWordCount</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>ShowRssButtonInSectionTermList</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>UseHugoToc</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>cover</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&lt;image path/url&gt;&#34;</span><span class=w> </span><span class=c># image path/url</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>alt</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&lt;alt text&gt;&#34;</span><span class=w> </span><span class=c># alt text</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>caption</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&lt;text&gt;&#34;</span><span class=w> </span><span class=c># display caption under cover</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>relative</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w> </span><span class=c># when using page bundles set this to true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>hidden</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># only hide on current single page</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>editPost</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>URL</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://github.com/&lt;path_to_repo&gt;/content&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>Text</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Suggest Changes&#34;</span><span class=w> </span><span class=c># edit text</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>appendFilePath</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># to append file path to Edit link</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span><span class=w>
</span></span></span></code></pre></div><p>使用以下命令创建新文件即可</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hugo new content posts/demo.md
</span></span></code></pre></div><p>Hugo项目框架完成搭建，创建GitHub仓库进行保存和管理（仓库可设置为 Private 类型）</p><p>为了避免<code>hugo server</code>预览效果与真实部署效果有偏差，可在本地渲染静态网页并启动HTTP Sever托管</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 渲染静态网页</span>
</span></span><span class=line><span class=cl>hugo
</span></span><span class=line><span class=cl><span class=c1># 启动HTTP服务器（Python3）</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> public
</span></span><span class=line><span class=cl>python3 -m http.server
</span></span></code></pre></div><h2 id=github-actions-自动发布><strong>GitHub Actions 自动</strong>发布<a hidden class=anchor aria-hidden=true href=#github-actions-自动发布>#</a></h2><p>GitHub会将<code>&lt;user>.github.io</code>仓库发布成GitHub Pages，用户可通过<code>https://&lt;user>.github.io/</code>访问站点</p><p>在编辑内容后，更新网站需要将渲染静态网页并推送到仓库中，Markdown文件也需要保存源仓库，可以通过 GitHub Actions 进行流程简化</p><p>GitHub Actions 是 GitHub 的 CI/CD 平台，支持自动执行构建、测试和部署管道，目前已经有很多开箱即用的工作流</p><p>需要实现的效果是<strong>在源仓库保存时，自动更新渲染静态网页并推送到GitHub Pages仓库</strong>：</p><ol><li><p>在源仓库 <code>.github/workflows</code> 目录下，新建 yaml 配置文件，如 deploy.yml，内容参考如下</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 触发方式</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=c># 仓库执行push操作</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=c># 在仓库手动触发</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>workflow_dispatch</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=c># 定时执行</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>schedule</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=nt>cron</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w> </span><span class=m>8</span><span class=w> </span>*<span class=w> </span>*<span class=w> </span>*<span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 定义任务</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>build</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>				</span><span class=c># 任务运行环境</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>				</span><span class=c># 声明任务步骤</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>							</span><span class=c># 使用插件</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>							</span><span class=c># 传递插件参数</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>									</span><span class=c># 因为theme仓库以子模块方式管理，所以需要同时checkout子模块</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-hugo@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>hugo-version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;latest&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build Resources</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy Website</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>PERSONAL_TOKEN</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.PERSONAL_TOKEN }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>									</span><span class=c># 替换为自己的 GitHub Pages 仓库</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>EXTERNAL_REPOSITORY</span><span class=p>:</span><span class=w> </span><span class=l>codedededi/codedededi.github.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>PUBLISH_BRANCH</span><span class=p>:</span><span class=w> </span><span class=l>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>PUBLISH_DIR</span><span class=p>:</span><span class=w> </span><span class=l>./public</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>commit_message</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.event.head_commit.message }}</span><span class=w>
</span></span></span></code></pre></div></li><li><p>GitHub Actions 执行推送操作依赖 Access Token， 即需要为上述配置注入 <code>secrets.PERSONAL_TOKEN</code> 变量：
创建含 <strong>repo</strong>（默认）、<strong>workflow</strong> 权限的 token</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/codedededi/pichome/picgo/2023-12-27/5d82b8725971fb80a26b48dae0e78d0b-4f5578-github_action_token.jpg alt=https://cdn.jsdelivr.net/gh/codedededi/pichome/picgo/2023-12-27/5d82b8725971fb80a26b48dae0e78d0b-4f5578-github_action_token.jpg></p><p>在源仓库新建加密参数<code>PERSONAL_TOKEN</code></p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/codedededi/pichome/picgo/2023-12-27/53ead82edf8b7041459363489d35a66c-d9961f-github_action_secret.jpg alt=https://cdn.jsdelivr.net/gh/codedededi/pichome/picgo/2023-12-27/53ead82edf8b7041459363489d35a66c-d9961f-github_action_secret.jpg></p></li></ol><h2 id=小结>小结<a hidden class=anchor aria-hidden=true href=#小结>#</a></h2><p>本文介绍了借助PicGo、Hugo等开源工具在 GitHub 平台搭建个人博客网站的过程，目前完成度仅为可用，仍有评论模块、统计模块、自定义域名等特性可以持续扩展迭代，欢迎大家和我分享更多更好的想法</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://codedededi.github.io/tags/%E6%95%99%E7%A8%8B/>教程</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://codedededi.github.io/>Code "得得地"</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>